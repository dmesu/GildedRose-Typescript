"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.verifyAsJson = exports.verify = void 0;
const StringWriter = require("../../StringWriter");
const approvals = require("../../Approvals");
const Options_1 = require("../../Core/Options");
const JestNamer_1 = require("./JestNamer");
function verify(sut, options) {
    const config = approvals.getConfig();
    config.reporters = ["diffmerge"];
    options = options || new Options_1.Options();
    const writer = new StringWriter(config, `${sut}`, options.forFile().getFileExtension());
    approvals.verifyWithControl((0, JestNamer_1.getJestNamer)(), writer, null, config);
}
exports.verify = verify;
function verifyAsJson(data, options) {
    const text = JSON.stringify(data, null, "  ");
    options = options || new Options_1.Options();
    options = options.forFile().withFileExtention(".json");
    verify(text, options);
}
exports.verifyAsJson = verifyAsJson;
